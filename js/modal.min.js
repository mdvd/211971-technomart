var buylink=document.querySelectorAll(".buy-item"),buymodal=document.querySelector(".modal-buy"),buyclose=document.querySelector(".modal-buy .modal-close"),overlay=document.querySelector(".modal-overlay"),contshop=document.querySelector(".modal-buy-btn");for(i=0;i<buylink.length;i++)buylink[i].addEventListener("click",function(a){a.preventDefault(),buymodal.classList.add("modal-buy-show"),overlay.classList.add("modal-overlay-show")});buyclose.addEventListener("click",function(a){a.preventDefault(),buymodal.classList.remove("modal-buy-show"),overlay.classList.remove("modal-overlay-show")}),contshop.addEventListener("click",function(a){a.preventDefault(),buymodal.classList.remove("modal-buy-show"),overlay.classList.remove("modal-overlay-show")}),overlay.addEventListener("click",function(a){a.preventDefault(),buymodal.classList.remove("modal-buy-show"),overlay.classList.remove("modal-overlay-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&buymodal.classList.contains("modal-buy-show")&&(buymodal.classList.remove("modal-buy-show"),overlay.classList.remove("modal-overlay-show"))});var wrlink=document.querySelector(".write-company"),wrmodal=document.querySelector(".modal-write"),wrclose=document.querySelector(".modal-close"),overlay=document.querySelector(".modal-overlay"),form=document.querySelector(".modal-write form"),wrname=document.querySelector("#modal-name"),wremail=document.querySelector("#modal-email"),wrmessage=document.querySelector("#modal-message"),storagename=window.localStorage.getItem("wrname"),storageemail=window.localStorage.getItem("wremail"),maplink=document.querySelector(".map-link"),mapmodal=document.querySelector(".modal-map"),mapclose=document.querySelector(".modal-map .modal-close"),overlay=document.querySelector(".modal-overlay");wrlink.addEventListener("click",function(a){a.preventDefault(),wrmodal.classList.add("modal-write-show"),wrname.focus(),overlay.classList.add("modal-overlay-show"),storagename?(wrname.value=storagename,wremail.focus()):wrname.focus(),storageemail?(wremail.value=storageemail,wrmessage.focus()):wremail.focus()}),wrclose.addEventListener("click",function(a){a.preventDefault(),wrmodal.classList.remove("modal-write-show"),overlay.classList.remove("modal-overlay-show"),wrmodal.classList.remove("modal-write-error")}),overlay.addEventListener("click",function(a){a.preventDefault(),wrmodal.classList.remove("modal-write-show"),overlay.classList.remove("modal-overlay-show"),wrmodal.classList.remove("modal-write-error")}),window.addEventListener("keydown",function(a){27===a.keyCode&&wrmodal.classList.contains("modal-write-show")&&(wrmodal.classList.remove("modal-write-show"),overlay.classList.remove("modal-overlay-show"),wrmodal.classList.remove("modal-write-error"))}),form.addEventListener("submit",function(a){wrname.value&&wremail.value&&wrmessage.value?(localStorage.setItem("wrname",wrname.value),localStorage.setItem("wremail",wremail.value)):(a.preventDefault(),wrmodal.classList.remove("modal-write-error"),wrmodal.offsetWidth=wrmodal.offsetWidth,wrmodal.classList.add("modal-write-error"),wrname.value||wrname.classList.add("input-error"),wremail.value||wremail.classList.add("input-error"),wrmessage.value||wrmessage.classList.add("input-error"),console.log("Нужно что-то ввести!"))}),form.addEventListener("keypress",function(){wrname.classList.contains("input-error")&&wrname.classList.remove("input-error"),wremail.classList.contains("input-error")&&wremail.classList.remove("input-error"),wrmessage.classList.contains("input-error")&&wrmessage.classList.remove("input-error")}),maplink.addEventListener("click",function(a){a.preventDefault(),mapmodal.classList.add("modal-map-show"),overlay.classList.add("modal-overlay-show")}),mapclose.addEventListener("click",function(a){a.preventDefault(),mapmodal.classList.remove("modal-map-show"),overlay.classList.remove("modal-overlay-show")}),overlay.addEventListener("click",function(a){a.preventDefault(),mapmodal.classList.remove("modal-map-show"),overlay.classList.remove("modal-overlay-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapmodal.classList.contains("modal-map-show")&&(mapmodal.classList.remove("modal-map-show"),overlay.classList.remove("modal-overlay-show"))});
